(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(38)},20:function(e,n,t){},38:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),r=t(3),c=t.n(r),l=(t(20),t(5)),u=t(2),i=t(4),s=t.n(i),m="/api/persons",h=function(){return s.a.get(m).then((function(e){return e.data}))},d=function(e){return s.a.post(m,e).then((function(e){return e.data}))},f=function(e){return console.log("this is id",e.id),s.a.delete("".concat(m,"/").concat(e.id)).then((function(e){return e.data}))},b=function(e,n){return s.a.put("".concat(m,"/").concat(e.id),n).then((function(e){return e.data}))},g=function(e){var n=e.person;console.log(n),n&&window.confirm("Delete ".concat(n.name))&&f(n)},p=function(e){var n=e.person;return o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,n.name," ",n.number,"  ",o.a.createElement("button",{onClick:function(){return g({person:n})}},"delete")))},v=function(e){var n=e.persons;return o.a.createElement(o.a.Fragment,null,n.map((function(e){return o.a.createElement(p,{person:e,key:e.name})})))},E={color:"purple",fontSize:20,padding:10,marginBottom:10},w=function(e){var n=e.showSearch,t=e.search,a=e.handleChange;return o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:n},o.a.createElement("div",{style:E},"filter shown with: ",o.a.createElement("input",{value:t,onChange:a}),o.a.createElement("button",{type:"submit"},"search"))))},j=function(e,n){var t=e.message,a=n.type;if(null===t)return null;if("error"===a);return o.a.createElement("div",{style:{color:"green",fontSize:20,padding:10,marginBottom:10}},t)},O=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)(""),s=Object(u.a)(i,2),m=s[0],f=s[1],g=Object(a.useState)(""),p=Object(u.a)(g,2),E=p[0],O=p[1],y=Object(a.useState)(""),S=Object(u.a)(y,2),C=S[0],L=S[1],k=Object(a.useState)(""),B=Object(u.a)(k,2),F=B[0],D=B[1],I=Object(a.useState)(""),T=Object(u.a)(I,2),q=T[0],z=T[1];Object(a.useEffect)((function(){h().then((function(e){return r(e)}))}),[t]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"Phonebook"),o.a.createElement(j,{message:F,type:q}),o.a.createElement(w,{showSearch:function(e){e.preventDefault(),console.log("this is showSearch",C);var n=t.find((function(e){return e.name.toLocaleLowerCase()===C.toLocaleLowerCase()})),a=Object(l.a)({},n);console.log(a),void 0!==n?(c.a.render("".concat(n.name," ").concat(n.number),document.getElementById("query")),L("")):(c.a.render("".concat(C," is not in the phonebook"),document.getElementById("query")),L(""))},search:C,handleChange:function(e){L(e.target.value),console.log("this is the search ",C)}}),o.a.createElement("h2",null,"add a new"),o.a.createElement("form",{onSubmit:function(e){e.preventDefault();var n=t.map((function(e){return e.name.toLocaleLowerCase()}));if(console.log("this is the names",n),n.includes(m.toLocaleLowerCase())){var a=t.find((function(e){return e.name.toLocaleLowerCase()===m.toLocaleLowerCase()}));console.log("this is contact",a);var o=Object(l.a)(Object(l.a)({},a),{},{number:E});window.confirm("".concat(m," is already added to phonebook,replace the old number with a new one?"))?(b(a,o).catch((function(e){D("".concat(m," was already removed from the server")),z("error"),setTimeout((function(){return D("")}),4e3)})),D("".concat(m," number was change in the server")),z("success"),setTimeout((function(){D(null)}),4e3),f(""),O("")):(f(""),O(""))}else{var c={name:m,number:E};r(t.concat(c)),D("".concat(m," was added to the server")),z("success"),setTimeout((function(){D(null)}),4e3),d(c),console.log(n),console.log(t),f(""),O("")}}},o.a.createElement("div",null,"name: ",o.a.createElement("input",{value:m,onChange:function(e){f(e.target.value)}})),o.a.createElement("div",null,"number: ",o.a.createElement("input",{value:E,onChange:function(e){O(e.target.value)}})),o.a.createElement("div",null,o.a.createElement("button",{type:"submit"},"add"))),o.a.createElement("h2",null,"Numbers"),o.a.createElement("div",null,o.a.createElement(v,{persons:t})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.e8004441.chunk.js.map